import{r as s,A as x,u as m,j as e,c as w,e as C}from"./index-DihfN6Tf.js";import{G as c,I as P,S as p}from"./Status-DsXCdxri.js";import{A as v}from"./Avatar-BnqErq0y.js";import{F as y}from"./FormButton-B1n9DXWJ.js";import{P as A,C as q}from"./CrewSelect-Di5wdCnZ.js";import"./position-CtgMU1tI.js";function M({employee:t}){const[a,o]=s.useState({firstname:t.firstname,lastname:t.lastname}),l=u=>{o(u)},[n,r]=s.useState(t.employeeId),i=u=>{r(u)},[d,S]=s.useState({label:t.position,value:t.position}),[E,f]=s.useState({label:t.crew,value:t.crew}),b={...t,...a,employeeId:n,position:d.value,crew:E.label.split(" - ")[0]},g=`${x.EMPLOYEE_API_URI(t.branchId)}/${t._id}`,{status:I,triggerRequest:h}=m({query:"put",url:g,body:b}),{status:j,triggerRequest:O}=m({query:"delete",url:g});return e.jsxs("form",{className:"w-full flex flex-col gap-32",children:[e.jsx(v,{name:a,handleNameOnChange:l,isEditable:!0}),e.jsx(c,{name:"employeeId",children:e.jsx(P,{id:"employeeId",value:n,handleOnChange:i,isEditable:!0})}),e.jsx(c,{name:"position",children:e.jsx(A,{isEditable:!0,activePositionOption:d,setActivePositionOption:S})}),e.jsx(c,{name:"crew",children:e.jsx(q,{isEditable:!0,activeCrewOption:E,setActiveCrewOption:f})}),e.jsx(p,{status:I,errorMessage:"Error updating Employee",successMessage:"Employee was successfully updated",className:"mt-32"}),e.jsx(p,{status:j,errorMessage:"Error deleting Employee",successMessage:"Employee was successfully deleted",className:"mt-32"}),e.jsxs("div",{className:"flex flex-row mt-32 justify-between",children:[e.jsx(y,{type:"submit",ariaLabel:"Update Employee",bg:"bg-green",handleOnClick:h,icon:"done",label:"Update"}),e.jsx(y,{type:"submit",ariaLabel:"Delete Employee",bg:"bg-red",handleOnClick:O,icon:"delete",label:"Delete"})]})]})}function $(){const{employee:t}=w(),{id:a}=C(),[o,l]=s.useState(),{status:n,triggerRequest:r}=m({query:"get",url:`${x.EMPLOYEE_API_URI(t.branchId)}/${a}`,onSuccess:i=>{l(i)}});return s.useEffect(()=>{r()},[]),o?e.jsx(M,{employee:o}):e.jsx(p,{status:n,errorMessage:"Error fetching Employee"})}export{$ as default};
