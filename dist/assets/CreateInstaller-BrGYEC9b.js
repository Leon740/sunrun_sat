import{u as C,r as s,a as I,j as e,A as f}from"./index-CtW7ehJo.js";import{A as w}from"./Avatar-DPExpW2T.js";import{I as g,S as j}from"./Status-CUggJB6E.js";import{G as o,F as O}from"./FormButton-CxtsxEL_.js";import{P as v,C as A}from"./CrewSelect-C2MckJ9J.js";import"./position-CtgMU1tI.js";function R(){const{employee:i}=C(),[a,c]=s.useState({firstname:"Firstname",lastname:"Lastname"}),m=t=>{c(t)},[n,p]=s.useState(""),u=t=>{p(t)},[r,d]=s.useState({label:"Installer",value:"Installer"}),[l,S]=s.useState({label:"Select crew",value:"Select crew"}),[h,x]=s.useState(""),y={...a,nickname:a.firstname,employeeId:n,position:r.value,crew:l.label.split(" - ")[0],branch:i.branch},{status:b,triggerRequest:E}=I({query:"post",url:f.EMPLOYEE_API_URI,body:y,onSuccess:t=>{x(t._id)}});return e.jsxs("form",{className:"w-full flex flex-col gap-32",children:[e.jsx(w,{name:a,handleNameOnChange:m,isEditable:!0}),e.jsx(o,{name:"employeeId",children:e.jsx(g,{id:"employeeId",value:n,handleOnChange:u,isEditable:!0})}),e.jsx(o,{name:"position",children:e.jsx(v,{isEditable:!0,activePosition:r,setActivePosition:d})}),e.jsx(o,{name:"crew",children:e.jsx(A,{isEditable:!0,activeCrew:l,setActiveCrew:S})}),e.jsx(j,{status:b,errorMessage:"Error creating Employee.",successMessage:`Employee was successfully created. <br /> Copy this id and share it with the employee to SignIn. <br /> ${h}`,className:"mt-32"}),e.jsx(O,{type:"submit",ariaLabel:"Create Employee",bg:"bg-white",className:"mt-32",handleOnClick:E,icon:"done",label:"Create"})]})}export{R as default};
