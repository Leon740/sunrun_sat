import{c as E,r as s,u as C,A as f,j as e}from"./index-WRblNOmq.js";import{A as w}from"./Avatar-1wpbu5Ap.js";import{G as o,I as O,S as g}from"./Status-4t2SuwKi.js";import{F as j}from"./FormButton-CiJ3zu8R.js";import{P as v,C as A}from"./CrewSelect-CVYu-MjB.js";import"./position-CtgMU1tI.js";function R(){const{employee:a}=E(),[n,c]=s.useState({firstname:"Firstname",lastname:"Lastname"}),m=t=>{c(t)},[r,p]=s.useState(""),u=t=>{p(t)},[i,d]=s.useState({label:"Installer",value:"Installer"}),[l,S]=s.useState({label:"Select crew",value:"Select crew"}),[h,b]=s.useState(""),y={...n,nickname:n.firstname,employeeId:r,position:i.value,crew:l.label.split(" - ")[0],branchId:a.branchId,branchName:a.branchName},{status:I,triggerRequest:x}=C({query:"post",url:f.EMPLOYEE_API_URI(a.branchId),body:y,onSuccess:t=>{b(t._id)}});return e.jsxs("form",{className:"w-full flex flex-col gap-32",children:[e.jsx(w,{name:n,handleNameOnChange:m,isEditable:!0}),e.jsx(o,{name:"employeeId",children:e.jsx(O,{id:"employeeId",value:r,handleOnChange:u,isEditable:!0})}),e.jsx(o,{name:"position",children:e.jsx(v,{isEditable:!0,activePositionOption:i,setActivePositionOption:d})}),e.jsx(o,{name:"crew",children:e.jsx(A,{isEditable:!0,activeCrewOption:l,setActiveCrewOption:S})}),e.jsx(g,{status:I,errorMessage:"Error creating Employee",successMessage:`Employee was successfully created. <br /> Copy this id and share it with the employee to SignIn. <br /> ${h}`,className:"mt-32"}),e.jsx(j,{type:"submit",ariaLabel:"Create",bg:"bg-white",className:"mt-32",handleOnClick:x,icon:"done",label:"Create"})]})}export{R as default};
